{"ast":null,"code":"import { __awaiter } from '../../../../_virtual/_tslib.js';\nimport { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { VIEWS } from '../../../constants.js';\nimport { Anchor } from '../../UI/Anchor.js';\nimport { Button } from '../../UI/Button.js';\nimport { Container } from '../../UI/Container.js';\nimport '../../UI/Divider.js';\nimport { Input } from '../../UI/Input.js';\nimport { Label } from '../../UI/Label.js';\nimport { Message } from '../../UI/Message.js';\nfunction MagicLink(_ref) {\n  let {\n    setAuthView,\n    supabaseClient,\n    redirectTo,\n    i18n,\n    appearance,\n    showLinks\n  } = _ref;\n  var _a;\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleMagicLinkSignIn = e => __awaiter(this, void 0, void 0, function* () {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n    setLoading(true);\n    const {\n      error\n    } = yield supabaseClient.auth.signInWithOtp({\n      email,\n      options: {\n        emailRedirectTo: redirectTo\n      }\n    });\n    if (error) setError(error.message);else setMessage('Check your email for the magic link');\n    setLoading(false);\n  });\n  const labels = i18n === null || i18n === void 0 ? void 0 : i18n.magic_link;\n  return jsx(\"form\", Object.assign({\n    id: \"auth-magic-link\",\n    onSubmit: handleMagicLinkSignIn\n  }, {\n    children: jsxs(Container, Object.assign({\n      gap: \"large\",\n      direction: \"vertical\",\n      appearance: appearance\n    }, {\n      children: [jsxs(Container, Object.assign({\n        gap: \"large\",\n        direction: \"vertical\",\n        appearance: appearance\n      }, {\n        children: [jsxs(\"div\", {\n          children: [jsx(Label, Object.assign({\n            appearance: appearance\n          }, {\n            children: labels === null || labels === void 0 ? void 0 : labels.email_input_label\n          })), jsx(Input, {\n            name: \"email\",\n            type: \"email\",\n            placeholder: labels === null || labels === void 0 ? void 0 : labels.email_input_placeholder,\n            onChange: e => setEmail(e.target.value),\n            appearance: appearance\n          })]\n        }), jsx(Button, Object.assign({\n          color: \"primary\",\n          type: \"submit\",\n          loading: loading,\n          appearance: appearance\n        }, {\n          children: loading ? labels === null || labels === void 0 ? void 0 : labels.loading_button_label : labels === null || labels === void 0 ? void 0 : labels.button_label\n        }))]\n      })), showLinks && jsx(Anchor, Object.assign({\n        href: \"#auth-sign-in\",\n        onClick: e => {\n          e.preventDefault();\n          setAuthView(VIEWS.SIGN_IN);\n        },\n        appearance: appearance\n      }, {\n        children: (_a = i18n === null || i18n === void 0 ? void 0 : i18n.sign_in) === null || _a === void 0 ? void 0 : _a.link_text\n      })), message && jsx(Message, Object.assign({\n        appearance: appearance\n      }, {\n        children: message\n      })), error && jsx(Message, Object.assign({\n        color: \"danger\",\n        appearance: appearance\n      }, {\n        children: error\n      }))]\n    }))\n  }));\n}\nexport { MagicLink };","map":{"version":3,"names":["__awaiter","jsx","jsxs","useState","VIEWS","Anchor","Button","Container","Input","Label","Message","MagicLink","_ref","setAuthView","supabaseClient","redirectTo","i18n","appearance","showLinks","_a","email","setEmail","error","setError","message","setMessage","loading","setLoading","handleMagicLinkSignIn","e","preventDefault","auth","signInWithOtp","options","emailRedirectTo","labels","magic_link","Object","assign","id","onSubmit","children","gap","direction","email_input_label","name","type","placeholder","email_input_placeholder","onChange","target","value","color","loading_button_label","button_label","href","onClick","SIGN_IN","sign_in","link_text"],"sources":["/home/alexbriannaughton/Development/code/react-prax/supabase_login_signup_tutorial/node_modules/@supabase/auth-ui-react/dist/esm/src/components/Auth/interfaces/MagicLink.js"],"sourcesContent":["import { __awaiter } from '../../../../_virtual/_tslib.js';\nimport { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { VIEWS } from '../../../constants.js';\nimport { Anchor } from '../../UI/Anchor.js';\nimport { Button } from '../../UI/Button.js';\nimport { Container } from '../../UI/Container.js';\nimport '../../UI/Divider.js';\nimport { Input } from '../../UI/Input.js';\nimport { Label } from '../../UI/Label.js';\nimport { Message } from '../../UI/Message.js';\n\nfunction MagicLink(_ref) {\n  let {\n    setAuthView,\n    supabaseClient,\n    redirectTo,\n    i18n,\n    appearance,\n    showLinks\n  } = _ref;\n\n  var _a;\n\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleMagicLinkSignIn = e => __awaiter(this, void 0, void 0, function* () {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n    setLoading(true);\n    const {\n      error\n    } = yield supabaseClient.auth.signInWithOtp({\n      email,\n      options: {\n        emailRedirectTo: redirectTo\n      }\n    });\n    if (error) setError(error.message);else setMessage('Check your email for the magic link');\n    setLoading(false);\n  });\n\n  const labels = i18n === null || i18n === void 0 ? void 0 : i18n.magic_link;\n  return jsx(\"form\", Object.assign({\n    id: \"auth-magic-link\",\n    onSubmit: handleMagicLinkSignIn\n  }, {\n    children: jsxs(Container, Object.assign({\n      gap: \"large\",\n      direction: \"vertical\",\n      appearance: appearance\n    }, {\n      children: [jsxs(Container, Object.assign({\n        gap: \"large\",\n        direction: \"vertical\",\n        appearance: appearance\n      }, {\n        children: [jsxs(\"div\", {\n          children: [jsx(Label, Object.assign({\n            appearance: appearance\n          }, {\n            children: labels === null || labels === void 0 ? void 0 : labels.email_input_label\n          })), jsx(Input, {\n            name: \"email\",\n            type: \"email\",\n            placeholder: labels === null || labels === void 0 ? void 0 : labels.email_input_placeholder,\n            onChange: e => setEmail(e.target.value),\n            appearance: appearance\n          })]\n        }), jsx(Button, Object.assign({\n          color: \"primary\",\n          type: \"submit\",\n          loading: loading,\n          appearance: appearance\n        }, {\n          children: loading ? labels === null || labels === void 0 ? void 0 : labels.loading_button_label : labels === null || labels === void 0 ? void 0 : labels.button_label\n        }))]\n      })), showLinks && jsx(Anchor, Object.assign({\n        href: \"#auth-sign-in\",\n        onClick: e => {\n          e.preventDefault();\n          setAuthView(VIEWS.SIGN_IN);\n        },\n        appearance: appearance\n      }, {\n        children: (_a = i18n === null || i18n === void 0 ? void 0 : i18n.sign_in) === null || _a === void 0 ? void 0 : _a.link_text\n      })), message && jsx(Message, Object.assign({\n        appearance: appearance\n      }, {\n        children: message\n      })), error && jsx(Message, Object.assign({\n        color: \"danger\",\n        appearance: appearance\n      }, {\n        children: error\n      }))]\n    }))\n  }));\n}\n\nexport { MagicLink };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}