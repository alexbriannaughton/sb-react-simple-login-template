{"ast":null,"code":"import { __awaiter } from '../../../_virtual/_tslib.js';\nimport { jsx } from 'react/jsx-runtime';\nimport { useState, useEffect, useContext, createContext } from 'react';\nconst UserContext = /*#__PURE__*/createContext({\n  user: null,\n  session: null\n});\nconst UserContextProvider = props => {\n  var _a;\n  const {\n    supabaseClient\n  } = props;\n  const [session, setSession] = useState(null);\n  const [user, setUser] = useState((_a = session === null || session === void 0 ? void 0 : session.user) !== null && _a !== void 0 ? _a : null);\n  useEffect(() => {\n    (() => __awaiter(void 0, void 0, void 0, function* () {\n      var _a, _b;\n      const {\n        data\n      } = yield supabaseClient.auth.getSession();\n      setSession(data.session);\n      setUser((_b = (_a = data.session) === null || _a === void 0 ? void 0 : _a.user) !== null && _b !== void 0 ? _b : null);\n    }))();\n    const {\n      data: authListener\n    } = supabaseClient.auth.onAuthStateChange((event, session) => __awaiter(void 0, void 0, void 0, function* () {\n      var _c;\n      setSession(session);\n      setUser((_c = session === null || session === void 0 ? void 0 : session.user) !== null && _c !== void 0 ? _c : null);\n    }));\n    return () => {\n      authListener === null || authListener === void 0 ? void 0 : authListener.subscription.unsubscribe();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const value = {\n    session,\n    user\n  };\n  return jsx(UserContext.Provider, Object.assign({\n    value: value\n  }, props));\n};\nconst useUser = () => {\n  const context = useContext(UserContext);\n  if (context === undefined) {\n    throw new Error(`useUser must be used within a UserContextProvider.`);\n  }\n  return context;\n};\nexport { UserContextProvider, useUser };","map":{"version":3,"names":["__awaiter","jsx","useState","useEffect","useContext","createContext","UserContext","user","session","UserContextProvider","props","_a","supabaseClient","setSession","setUser","_b","data","auth","getSession","authListener","onAuthStateChange","event","_c","subscription","unsubscribe","value","Provider","Object","assign","useUser","context","undefined","Error"],"sources":["/home/alexbriannaughton/Development/code/react-prax/supabase_login_signup_tutorial/node_modules/@supabase/auth-ui-react/dist/esm/src/components/Auth/UserContext.js"],"sourcesContent":["import { __awaiter } from '../../../_virtual/_tslib.js';\nimport { jsx } from 'react/jsx-runtime';\nimport { useState, useEffect, useContext, createContext } from 'react';\n\nconst UserContext = /*#__PURE__*/createContext({\n  user: null,\n  session: null\n});\nconst UserContextProvider = props => {\n  var _a;\n\n  const {\n    supabaseClient\n  } = props;\n  const [session, setSession] = useState(null);\n  const [user, setUser] = useState((_a = session === null || session === void 0 ? void 0 : session.user) !== null && _a !== void 0 ? _a : null);\n  useEffect(() => {\n\n    (() => __awaiter(void 0, void 0, void 0, function* () {\n      var _a, _b;\n\n      const {\n        data\n      } = yield supabaseClient.auth.getSession();\n      setSession(data.session);\n      setUser((_b = (_a = data.session) === null || _a === void 0 ? void 0 : _a.user) !== null && _b !== void 0 ? _b : null);\n    }))();\n\n    const {\n      data: authListener\n    } = supabaseClient.auth.onAuthStateChange((event, session) => __awaiter(void 0, void 0, void 0, function* () {\n      var _c;\n\n      setSession(session);\n      setUser((_c = session === null || session === void 0 ? void 0 : session.user) !== null && _c !== void 0 ? _c : null);\n    }));\n    return () => {\n      authListener === null || authListener === void 0 ? void 0 : authListener.subscription.unsubscribe();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const value = {\n    session,\n    user\n  };\n  return jsx(UserContext.Provider, Object.assign({\n    value: value\n  }, props));\n};\nconst useUser = () => {\n  const context = useContext(UserContext);\n\n  if (context === undefined) {\n    throw new Error(`useUser must be used within a UserContextProvider.`);\n  }\n\n  return context;\n};\n\nexport { UserContextProvider, useUser };\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,6BAA6B;AACvD,SAASC,GAAG,QAAQ,mBAAmB;AACvC,SAASC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,EAAEC,aAAa,QAAQ,OAAO;AAEtE,MAAMC,WAAW,GAAG,aAAaD,aAAa,CAAC;EAC7CE,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,CAAC;AACF,MAAMC,mBAAmB,GAAGC,KAAK,IAAI;EACnC,IAAIC,EAAE;EAEN,MAAM;IACJC;EACF,CAAC,GAAGF,KAAK;EACT,MAAM,CAACF,OAAO,EAAEK,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACK,IAAI,EAAEO,OAAO,CAAC,GAAGZ,QAAQ,CAAC,CAACS,EAAE,GAAGH,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACD,IAAI,MAAM,IAAI,IAAII,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,IAAI,CAAC;EAC7IR,SAAS,CAAC,MAAM;IAEd,CAAC,MAAMH,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MACpD,IAAIW,EAAE,EAAEI,EAAE;MAEV,MAAM;QACJC;MACF,CAAC,GAAG,MAAMJ,cAAc,CAACK,IAAI,CAACC,UAAU,EAAE;MAC1CL,UAAU,CAACG,IAAI,CAACR,OAAO,CAAC;MACxBM,OAAO,CAAC,CAACC,EAAE,GAAG,CAACJ,EAAE,GAAGK,IAAI,CAACR,OAAO,MAAM,IAAI,IAAIG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACJ,IAAI,MAAM,IAAI,IAAIQ,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,IAAI,CAAC;IACxH,CAAC,CAAC,GAAG;IAEL,MAAM;MACJC,IAAI,EAAEG;IACR,CAAC,GAAGP,cAAc,CAACK,IAAI,CAACG,iBAAiB,CAAC,CAACC,KAAK,EAAEb,OAAO,KAAKR,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAC3G,IAAIsB,EAAE;MAENT,UAAU,CAACL,OAAO,CAAC;MACnBM,OAAO,CAAC,CAACQ,EAAE,GAAGd,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACD,IAAI,MAAM,IAAI,IAAIe,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,IAAI,CAAC;IACtH,CAAC,CAAC,CAAC;IACH,OAAO,MAAM;MACXH,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACI,YAAY,CAACC,WAAW,EAAE;IACrG,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EACN,MAAMC,KAAK,GAAG;IACZjB,OAAO;IACPD;EACF,CAAC;EACD,OAAON,GAAG,CAACK,WAAW,CAACoB,QAAQ,EAAEC,MAAM,CAACC,MAAM,CAAC;IAC7CH,KAAK,EAAEA;EACT,CAAC,EAAEf,KAAK,CAAC,CAAC;AACZ,CAAC;AACD,MAAMmB,OAAO,GAAG,MAAM;EACpB,MAAMC,OAAO,GAAG1B,UAAU,CAACE,WAAW,CAAC;EAEvC,IAAIwB,OAAO,KAAKC,SAAS,EAAE;IACzB,MAAM,IAAIC,KAAK,CAAE,oDAAmD,CAAC;EACvE;EAEA,OAAOF,OAAO;AAChB,CAAC;AAED,SAASrB,mBAAmB,EAAEoB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}